<!DOCTYPE html>
<html lang="en" xmlns="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>
<body class="grid-container">
    <a th:href="@{/}"><h1>Wilkommen auf Travelcation</h1></a>
        <main>
            <div th:switch="${user}">
                <div th:case="0">
                    Login erfolglos
                    <form action="#" data-th-action="@{/login-form}" method="POST">
                        <button type="submit">Login</button>
                    </form>
                    <form data-th-action="@{/register-form}" method="POST">
                        <button type="submit">Registrieren</button>
                    </form>
                    <form th:action="@{/anzReise}" th:object="${Suchanfrage0}" method="POST">
                        <select th:field="*{option}">
                            <option th:value="Jahreszeit">Jahreszeit</option>
                            <option th:value="Ort">Ort</opttion>
                            <option th:value="Land">Land</opttion>
                        </select>
                        <div>
                            <input type="text" th:field="*{suche}">
                        </div>
                        <button type="submit">Suchen</button>
                    </form>
                </div>
                <div th:case="1">
                    <form action="#" data-th-action="@{/login-form}" method="POST">
                        <button type="submit">Login</button>
                    </form>
                    <form data-th-action="@{/register-form}" method="POST">
                        <button type="submit">Registrieren</button>
                    </form>
                    <form th:action="@{/anzReise}" th:object="${Suchanfrage0}" method="POST">
                        <select th:field="*{option}">
                            <option th:value="Jahreszeit">Jahreszeit</option>
                            <option th:value="Ort">Ort</opttion>
                            <option th:value="Land">Land</opttion>
                        </select>
                        <div>
                            <input type="text" th:field="*{suche}">
                        </div>
                        <button type="submit">Suchen</button>
                    </form>
                </div>
                <div th:case="*">
                    <div th:switch="${user.rolle}">
                        <div th:case="1">
                            <h1 th:text="'Hallo Admin '+${user.vorname}"></h1>
                            <div>
                                Das sind die Optionen die ein Admin hat.
                                Noch zu machen.
                            </div>
                        </div>
                        <div th:case="*">
                            <h1 th:text="'Hallo '+${user.vorname}"></h1>
                            <h2 th:if="${#lists.isEmpty(reise)}">Es sind noch keine Reisen gebucht</h2>
                            <div th:if="${not #lists.isEmpty(reise)}">
                                <h2>Gebuchte Reisen</h2>
                                    <table>
                                        <thead>
                                            <th>ReiseID</th>
                                            <th>Beschreibung</th>
                                            <th>Ort</th>
                                            <th>Region</th>
                                            <th>Land</th>
                                            <th>Von</th>
                                            <th>Bis</th>
                                            <th>Kosten</th>
                                        </thead>
                                        <thboy>
                                            <tr th:each="reis :${reise}">
                                                <td th:text="${reis[0]}"></td>
                                                <td th:text="${reis[1]}"></td>
                                                <td th:text="${reis[2]}"></td>
                                                <td th:text="${reis[3]}"></td>
                                                <td th:text="${reis[4]}"></td>
                                                <td th:text="${reis[5]}"></td>
                                                <td th:text="${reis[6]}"></td>
                                                <td th:text="${reis[7]}"></td>
                                                <div th:if="${not #lists.isEmpty(reis[8])}">
                                                    <table>
                                                        <tbody>
                                                            <tr th:each="akti : ${reis[8]}">
                                                                <td th:text="${akti[0]}"></td>
                                                                <td th:text="${akti[1]}"></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>    
                                                </div>
                                            </tr>
                                        </thboy>
                                    </table>
                            </div>
                            <div th:if="${#lists.isEmpty(Suchanfrage1.strar)}">
                                <h3>Alle Aktiväten die Sie gebucht haben, haben Sie bewertet.</h3>
                            </div>
                            <div th:if="${not #lists.isEmpty(Suchanfrage1.strar)}">
                                <form action="#" th:action="@{/BewertAktivität}" th:object="${Suchanfrage1}" method="POST">
                                    Aktivität-Bewerten:<select th:field="*{option}">
                                            <option th:each="i: ${Suchanfrage1.strar}" th:value="${i}" th:text="${i}"></option>
                                    </select>
                                    <div>
                                        <input type="text" th:field="*{suche}">
                                    </div>
                                    <button type="submit">Bewerten</button>
                                </form>
                            </div>
                            <form th:action="@{/anzReise}" th:object="${Suchanfrage0}" method="POST">
                                <select th:field="*{option}">
                                    <option th:value="Jahreszeit">Jahreszeit</option>
                                    <option th:value="Ort">Ort</opttion>
                                    <option th:value="Land">Land</opttion>
                                </select>
                                <div>
                                    <input type="text" th:field="*{suche}">
                                </div>
                                <button type="submit">Suchen</button>
                            </form>
                        </div>
                    </div>
                    <form action="#" th:action="@{/logout}" method="POST">
                        <button type="submit">Logout</button>
                    </form>
                    <form action="#" th:action="@{/ErstellProfil}" th:object="${Suchanfrage2}" method="POST">
                        ReiseNr: <select th:field="*{option}">
                                    <option th:each="i : ${GebuReis}" th:value="${i}" th:text="${i}"></option>
                                </select>
                                <div>
                                    ProfilName: <input type="text" th:field="*{suche}">
                                </div>
                        </select>
                        <button type="submit">Reiseprofil erstellen</button>
                    </form>
                    <div  th:if="${#lists.isEmpty(Profilnamen)}">

                    </div>
                    <div th:if="${not #lists.isEmpty(Profilnamen)}">
                        <form action="#" th:action="@{/ReiseBuchenMitProfil}" th:object="${Suchanfrage3}"method="POST">
                            <select th:field="*{option}">
                                <option th:each="i : ${Profilnamen}" th:value="${i}" th:text="${i}"></option>
                                <input type="date" th:field="*{von}">
                                <input type="date" th:field="*{bis}">
                            </select>
                            <button type="submit">Reise buchen mit Vorlage</button>
                        </form>
                    </div>
                </div>
            </div>
        </main>    
</body>
</html>